<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/Layout">
<head>
<title>Gestion-Stagiaire</title>
<meta charset="utf-8">
<!-- Main CSS-->
<link rel="stylesheet" type="text/css" href="..static/css/main.css" th:href=@{/css/main.css}>
<!-- Font-icon css-->
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

</head>
<body class="app sidebar-mini">
	<!-- Navbar-->
	<header class="app-header">
		<a class="app-header__logo" href="index.html">Gestion-Stagiaire</a>
		<a class="app-sidebar__toggle" href="#" data-toggle="sidebar" aria-label="Hide Sidebar"></a>
		<ul class="app-nav">
			</li>
			<!-- User Menu-->
			<li class="dropdown">
			<li><a class="dropdown-item" href="Logout_Etudiant"
				style="border-top-width: 13px; padding-top: 14px; padding-bottom: 14px;"><i
					class="fa fa-sign-out fa-lg"></i>Se déconnecter</a></li>
			</li>
		</ul>
	</header>
	<!-- Sidebar menu-->
	<div class="app-sidebar__overlay" data-toggle="sidebar"></div>
	
		<aside class="app-sidebar">
		<div class="app-sidebar__user">
			<img class="app-sidebar__user-avatar" src="..static/images/user.jpg"
				th:src=@{images/user.jpg} 
				alt="User Image">
			<div>
				<p class="app-sidebar__user-name"  th:text="${Etudiant.getNom_etd()} +' '+ ${Etudiant.getPrenom_etd()}"/>
				<p class="app-sidebar__user-designation">Etudiant</p>
			</div>
		</div>
		<ul class="app-menu">
			<li><a class="app-menu__item " href="Acceuil_Etudiant"><i
					class="app-menu__icon fa fa-line-chart"></i><span
					class="app-menu__label">Statistique</span></a></li>

			<li><a class="app-menu__item" href="/Liste-OffresEtudiant"><i
					class="app-menu__icon fa fa-medkit"></i><span
					class="app-menu__label">Liste Offres</span></a></li>
			<li><a class="app-menu__item" href="/Curriculum_vitae"><i
					class="app-menu__icon fa fa-file-text"></i><span
					class="app-menu__label">Curriculum vitae</span></a></li>
			<li><a class="app-menu__item" href="/Liste_Offre_Convention"><i
					class="app-menu__icon fa fa-pencil-square-o"></i><span class="app-menu__label">Demande de convention</span></a></li>
			<li><a class="app-menu__item" href="/Liste-Stage-Etudiant"><i
					class="app-menu__icon fa fa-list"></i><span
					class="app-menu__label">Liste de stages</span></a>
					</li>
			<li><a class="app-menu__item" href="/Liste_Entretien"><i
					class="app-menu__icon fa fa-bell"></i><span
					class="app-menu__label">Appel Entretiens</span></a>
					</li>
					
					<li><a class="app-menu__item" href="/Liste_Convention_Accepter"><i
					class="app-menu__icon fa fa-list"></i><span
					class="app-menu__label">Liste conventiens</span></a>
					</li>
		 </ul>
	</aside>
	<main class="app-content">
		<div class="row">
		<div class="col-lg-12">
			<h3 class="page-header" style="margin: 12px 0 20px;">
				<i class="fa fa-line-chart" aria-hidden="true"></i> Statistique
				
										
										<li class="list-inline-item" th:switch="${Etudiant.isStage_tr()}" style="float:right;">
												<button th:case="${true}" class="btn btn-success" data-toggle="modal"
													data-target="#NonStage">
													<i class="fa fa-exchange" aria-hidden="true" style=" padding-bottom: 3px; "></i>Stage trouvé
												</button>
												
												<button th:case="${false}" class="btn btn-success" data-toggle="modal"
													data-target="#StageTrouve">
													<i class="fa fa-exchange" aria-hidden="true"  style=" padding-bottom: 3px;"></i>Stage non trouvé
												</button>
												
										</li>
										
									
			</h3>
			<nav aria-label="breadcrumb" style="background-color: white;">
				<ol class="breadcrumb">
					<li class="breadcrumb-item active" aria-current="page"><i
						class="fa fa-line-chart" aria-hidden="true"></i> Statistique</li>
				</ol>
			</nav>
			
		</div>
	</div>
		<div class="row">
			<div class="col-md-6 col-lg-3">
				<div class="widget-small primary coloured-icon">
					<i class="icon fa fa-lightbulb-o fa-3x"></i>
					<div class="info">
						<h4>Stages effectuée</h4>
						<p>
							<b th:text = ${nbreStage} ></b>
						</p>
					</div>
				</div>
			</div>
			<div class="col-md-6 col-lg-3">
				<div class="widget-small info coloured-icon">
					<i class="icon fa fa-code fa-3x"></i>
					<div class="info">
						<h4>Nombre de projets</h4>
						<p>
							<b th:text = ${nbreProjet}></b>
						</p>
					</div>
				</div>
			</div>
			<div class="col-md-6 col-lg-3">
				<div class="widget-small warning coloured-icon">
					<i class="icon fa fa-language fa-3x"></i>
					<div class="info">
						<h4>Nombre Langues</h4>
						<p>
							<b th:text = ${nbreLangue}></b>
						</p>
					</div>
				</div>
			</div>
			<div class="col-md-6 col-lg-3">
				<div class="widget-small danger coloured-icon">
					<i class="icon fa fa-graduation-cap fa-3x"></i>
					<div class="info">
						<h4>Nombre de diplômes</h4>
						<p>
							<b th:text = ${nbreDiplome} ></b>
						</p>
					</div>
				</div>
			</div>
			
			
			
		</div>
		
			<div class="row">
			<div class="col-md-12">
				<div class="tile">
					<h3 class="tile-title">Total Stagaires</h3>
					<div class="embed-responsive">
						<div id="chart_div" style="width: 900px; height: 500px;"></div>
					</div>
				</div>
			</div>
		    </div>
	
	</main>
	
	
	
		<div class="modal fade" id="StageTrouve" tabindex="-1" role="dialog"
		aria-labelledby="delete" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<form action="/StageTrouve" method="get">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Stage Trouvé </h5>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						 vous avez trouver un stage
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary"
							data-dismiss="modal">Non</button>
						<button type="submit" class="btn btn-danger">Oui</button>
					</div>
				</div>
			</form>
		</div>
	</div>




<div class="modal fade" id="NonStage" tabindex="-1" role="dialog"
		aria-labelledby="delete" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<form action="/NonStage" method="get">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Recherche de stage </h5>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						 êtes-vous en recherche de stage ?
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary"
							data-dismiss="modal">Non</button>
						<button type="submit" class="btn btn-danger">Oui</button>
					</div>
				</div>
			</form>
		</div>
	</div>
	
	
	
	
	<!-- Essential javascripts for application to work-->
		<script type="text/javascript">
		
		$('#NonStage').on('show.bs.modal', function(event) {
			var button = $(event.relatedTarget)
			var modal = $(this)
			modal.find('.modal-body #edit_id').val(edit_id);
			
		})
		
		$('#StageTrouve').on('show.bs.modal', function(event) {
			var button = $(event.relatedTarget)
			var modal = $(this)
			modal.find('.modal-body #edit_id').val(edit_id);
			
		})

	</script>
	
	 <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script  th:inline="javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Année', 'Stages', 'Entretiens'],
          ['2016',  /*[[${stage0}]]*/,       /*[[${entr0}]]*/],
          ['2017',  /*[[${stage1}]]*/,      /*[[${entr1}]]*/],
          ['2018',  /*[[${stage2}]]*/,       /*[[${entr2}]]*/],
          ['2019',  /*[[${stage3}]]*/,      /*[[${entr3}]]*/],
          ['2020',  /*[[${stage4}]]*/,      /*[[${entr4}]]*/],
          ['2021',  /*[[${stage5}]]*/,      /*[[${entr5}]]*/],
          ['2022',  /*[[${stage6}]]*/,       /*[[${entr6}]]*/]
          
        ]);

        var options = {
          title: 'Etudiant Performance',
          hAxis: {title: 'Année',  titleTextStyle: {color: '#333'}},
          vAxis: {minValue: 0}
        };

        var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>
    
    
	<script src="js/jquery-3.3.1.min.js"></script>
	<script src="js/popper.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="/js/main.js"></script>
	<!-- The javascript plugin to display page loading on top-->
	<script src="js/plugins/pace.min.js"></script>
	<!-- Page specific javascripts-->
	<script type="text/javascript" src="../static/js/plugins/chart.js"></script>

</body>
</html>